(this.webpackJsonp=this.webpackJsonp||[]).push([[21,7,8,11,14],{481:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var n=r(5),o=r(26),c=r(27),l=(r(38),r(32),r(3),r(12),r(86),r(36)),d=function(){function t(e,r,n){Object(o.a)(this,t),this.id=e,this.name=r,this.imageURL=n}var e,r,d;return Object(c.a)(t,null,[{key:"getMinionTypes",value:(d=Object(n.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.minionTypes||(t.minionTypes=this.load(r)),e.abrupt("return",t.minionTypes);case 2:case"end":return e.stop()}}),e,this)}))),function(t){return d.apply(this,arguments)})},{key:"load",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(e){var r,n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(l.a.getAPIServerURL(),"/miniontypes"),t.next=3,e({url:r,method:"GET"});case 3:if(200===(n=t.sent).status){t.next=6;break}throw new Error("api error : ".concat(n.data));case 6:return data=n.data,t.abrupt("return",data);case 8:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},{key:"calcUnallocated",value:(e=Object(n.a)(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,t.getMinionTypes();case 3:return e.sent.forEach((function(t){r.find((function(e){return e.id===t.id}))||n.push(t)})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}]),t}();d.minionTypes=null},482:function(t,e,r){"use strict";r.r(e);var n={name:"GoogleAdsence"},o=r(96),component=Object(o.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("adsbygoogle",{attrs:{"ad-slot":"5862743108"}})}),[],!1,null,null,null);e.default=component.exports},483:function(t,e,r){var content=r(489);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("361ba2e6",content,!0,{sourceMap:!1})},486:function(t,e,r){"use strict";r.r(e);var n=r(5),o=(r(38),r(32),r(657)),c=r(481),l={props:{dialog:Boolean,hero:{type:Object},editable:{type:Boolean,default:!1}},data:function(){return{id:Object(o.a)(),name:"XXX",displayName:"XXX",imageURL:"XXX",memo:"",ban:null,heroMemoURL:""}},computed:{},watch:{hero:function(t){t&&(this.id=t.id,this.name=t.name,this.displayName=t.displayName,this.imageURL=t.imageURL,this.memo=t.memo,this.ban=t.ban,this.heroMemoURL=t.heroMemoURL)}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createBan();case 2:t.ban=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{save:function(){this.$emit("updateHero",{ban:this.ban,memo:this.memo,heroMemoURL:this.heroMemoURL}),this.$emit("update:dialog",!1)},createBan:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object(o.a)(),e.t1=[],e.t2=[],e.t3=[],e.next=6,c.a.getMinionTypes(t.$axios);case 6:return e.t4=e.sent,e.abrupt("return",{id:e.t0,required:e.t1,desierd:e.t2,needless:e.t3,unallocated:e.t4});case 8:case"end":return e.stop()}}),e)})))()},createGroup:function(t){return"group_".concat(t)}}},d=(r(488),r(96)),h=r(135),f=r.n(h),v=r(219),m=r(490),k=r(479),_=r(559),w=r(477),x=r(577),y=r(169),T=r(560),O=r(574),j=r(643),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",{attrs:{color:"black"}},[r("v-card-title",[r("v-container",{staticStyle:{"background-color":"#424242"}},[r("v-row",[r("v-col",{attrs:{cols:"1"}},[r("img",{staticClass:"image",attrs:{src:t.imageURL}})]),t._v(" "),r("v-col",{attrs:{cols:"3"}},[t._v("\n            "+t._s(t.displayName)+"の詳細\n          ")]),t._v(" "),r("v-col",{attrs:{cols:"6"}}),t._v(" "),r("v-col",{attrs:{cols:"2"}},[t.editable?r("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",large:""},on:{click:t.save}},[t._v("\n              更新\n            ")]):t._e(),t._v(" "),r("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",large:""},on:{click:function(e){return t.$emit("update:dialog",!1)}}},[t._v("\n              戻る\n            ")])],1)],1)],1)],1),t._v(" "),r("v-container",{staticStyle:{"background-color":"#616161"}},[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-img",{attrs:{src:t.heroMemoURL}})],1),t._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"ヒーローメモ画像ファイルのURL"},model:{value:t.heroMemoURL,callback:function(e){t.heroMemoURL=e},expression:"heroMemoURL"}}),t._v(" "),r("v-textarea",{attrs:{label:"ヒーロー攻略メモ"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1)],1)],1),t._v(" "),r("v-container",{staticStyle:{"background-color":"#000000"}},[r("v-row",[r("v-col",{staticClass:"text-h4",attrs:{cols:"12"}},[t._v("有利BAN")])],1),t._v(" "),r("v-row",[r("v-col",{staticClass:"text-h6",staticStyle:{"background-color":"#424242"},attrs:{cols:"3"}},[t._v("未割当")]),t._v(" "),r("v-col",{staticClass:"text-h6",staticStyle:{"background-color":"#B71C1C"},attrs:{cols:"3"}},[t._v("必須")]),t._v(" "),r("v-col",{staticClass:"text-h6",staticStyle:{"background-color":"#0D47A1"},attrs:{cols:"3"}},[t._v("欲しい")]),t._v(" "),r("v-col",{staticClass:"text-h6",staticStyle:{"background-color":"#607D8B"},attrs:{cols:"3"}},[t._v("不要")])],1),t._v(" "),t.ban?r("v-row",{staticStyle:{height:"300px"}},[r("draggable",{staticClass:"col col-3",staticStyle:{"background-color":"#424242"},attrs:{group:"ban",cols:"3"},model:{value:t.ban.unallocated,callback:function(e){t.$set(t.ban,"unallocated",e)},expression:"ban.unallocated"}},t._l(t.ban.unallocated,(function(t){return r("img",{key:t.name,staticClass:"image",attrs:{src:t.imageURL}})})),0),t._v(" "),r("draggable",{staticClass:"col col-3",staticStyle:{"background-color":"#B71C1C"},attrs:{group:"ban",cols:"3"},model:{value:t.ban.required,callback:function(e){t.$set(t.ban,"required",e)},expression:"ban.required"}},t._l(t.ban.required,(function(t){return r("img",{key:t.name,staticClass:"image",attrs:{src:t.imageURL}})})),0),t._v(" "),r("draggable",{staticClass:"col col-3",staticStyle:{"background-color":"#0D47A1"},attrs:{group:"ban",cols:"3"},model:{value:t.ban.desierd,callback:function(e){t.$set(t.ban,"desierd",e)},expression:"ban.desierd"}},t._l(t.ban.desierd,(function(t){return r("img",{key:t.name,staticClass:"image",attrs:{src:t.imageURL}})})),0),t._v(" "),r("draggable",{staticClass:"col col-3",staticStyle:{"background-color":"#607D8B"},attrs:{group:"ban",cols:"3"},model:{value:t.ban.needless,callback:function(e){t.$set(t.ban,"needless",e)},expression:"ban.needless"}},t._l(t.ban.needless,(function(t){return r("img",{key:t.name,staticClass:"image",attrs:{src:t.imageURL}})})),0),t._v(" "),r("google-adsence")],1):t._e(),t._v(" "),r("google-adsence")],1)],1)],1)}),[],!1,null,"325f73f3",null);e.default=component.exports;f()(component,{GoogleAdsence:r(482).default}),f()(component,{VBtn:v.a,VCard:m.a,VCardTitle:k.c,VCol:_.a,VContainer:w.a,VDialog:x.a,VImg:y.a,VRow:T.a,VTextField:O.a,VTextarea:j.a})},488:function(t,e,r){"use strict";r(483)},489:function(t,e,r){var n=r(22)(!1);n.push([t.i,".image[data-v-325f73f3]{width:100px;height:100px;-o-object-fit:cover;object-fit:cover}",""]),t.exports=n},491:function(t,e,r){"use strict";r.r(e);r(31);var n={props:{color:{type:String,default:"success"},message:{type:String,default:""},timeout:{type:Number,default:3e3},show:{type:Boolean,default:!1}},computed:{tiertable:{get:function(){var t=this.$store.state.account.account.tierTableName;return t||" "},set:function(t){}},i_show:{get:function(){return this.show},set:function(t){this.$emit("update:show",t)}}},watch:{show:function(t){this.i_show=t}},data:function(){return{}}},o=r(96),c=r(135),l=r.n(c),d=r(530),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-snackbar",{attrs:{top:"",color:t.color,timeout:3e3},model:{value:t.i_show,callback:function(e){t.i_show=e},expression:"i_show"}},[t._v("\n  "+t._s(t.message)+"\n")])}),[],!1,null,null,null);e.default=component.exports;l()(component,{VSnackbar:d.a})},507:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r(5),o=(r(38),r(35),r(32),r(36)),c=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,r){var n,c,data,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(o.a.getAPIServerURL(),"/tiertables/").concat(r),t.next=3,e({url:n,method:"GET"});case 3:if(200===(c=t.sent).status){t.next=8;break}throw new Error("api error : ".concat(c.data));case 8:return data=c.data,l={id:data.id,name:data.name,tiers:data.tiers,ownerid:data.ownerid},console.log(data),t.abrupt("return",l);case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},508:function(t,e,r){var content=r(509);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("7edcb124",content,!0,{sourceMap:!1})},509:function(t,e,r){var n=r(22)(!1);n.push([t.i,'.theme--light.v-snack__wrapper{color:rgba(0,0,0,.87)}.theme--dark.v-snack__wrapper{color:#fff}.v-sheet.v-snack__wrapper{border-radius:4px}.v-sheet.v-snack__wrapper:not(.v-sheet--outlined){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.v-sheet.v-snack__wrapper.v-sheet--shaped{border-radius:24px 4px}.v-snack{bottom:0;display:flex;font-size:.875rem;justify-content:center;left:0;pointer-events:none;right:0;top:0;width:100%}.v-snack:not(.v-snack--absolute){height:100vh;position:fixed;z-index:1000}.v-snack:not(.v-snack--centered):not(.v-snack--top){align-items:flex-end}.v-snack__wrapper{align-items:center;border-color:currentColor!important;display:flex;margin:8px;max-width:672px;min-height:48px;min-width:344px;padding:0;pointer-events:auto;position:relative;transition-duration:.15s;transition-property:opacity,transform;transition-timing-function:cubic-bezier(0,0,.2,1);z-index:1}.v-snack__wrapper.theme--dark{background-color:#333;color:hsla(0,0%,100%,.87)}.v-snack__content{flex-grow:1;font-size:.875rem;font-weight:400;letter-spacing:.0178571429em;line-height:1.25rem;margin-right:auto;padding:14px 16px;text-align:left;text-align:initial}.v-snack__action{align-items:center;align-self:center;display:flex}.v-snack__action .v-ripple__container{display:none}.v-application--is-ltr .v-snack__action{margin-right:8px}.v-application--is-rtl .v-snack__action{margin-left:8px}.v-snack__action>.v-snack__btn.v-btn{padding:0 8px}.v-snack__btn{margin:0;min-width:auto}.v-snack--absolute{height:100%;position:absolute;z-index:1}.v-snack--centered{align-items:center}.v-snack--left{justify-content:flex-start;right:auto}.v-snack--multi-line .v-snack__wrapper{min-height:68px}.v-snack--right{justify-content:flex-end;left:auto}.v-snack:not(.v-snack--has-background) .v-snack__wrapper{box-shadow:none}.v-snack--bottom{top:auto}.v-snack--text .v-snack__wrapper:before{background-color:currentColor;border-radius:inherit;bottom:0;content:"";left:0;opacity:.12;pointer-events:none;position:absolute;right:0;top:0;z-index:-1}.v-snack--top{align-items:flex-start;bottom:auto}.v-snack--vertical .v-snack__wrapper{flex-direction:column}.v-snack--vertical .v-snack__wrapper .v-snack__action{align-self:flex-end;margin-bottom:8px}.v-snack-transition-enter.v-snack__wrapper{transform:scale(.8)}.v-snack-transition-enter.v-snack__wrapper,.v-snack-transition-leave-to.v-snack__wrapper{opacity:0}',""]),t.exports=n},510:function(t,e,r){"use strict";r.r(e);r(32);var n={props:{dialog:Boolean,tier:{type:Object}},data:function(){return{swatches:[["#FF0000","#AA0000","#550000"],["#FFFF00","#AAAA00","#555500"],["#00FF00","#00AA00","#005500"],["#00FFFF","#00AAAA","#005555"],["#0000FF","#0000AA","#000055"]],id:"0",name:"XXX",color:"grey"}},computed:{},watch:{tier:function(t){t&&(this.id=t.id,this.name=t.name,this.color=t.color)}},mounted:function(){},methods:{save:function(){this.$emit("updateTier",{id:this.id,name:this.name,color:this.color}),this.$emit("update:dialog",!1)}}},o=r(96),c=r(135),l=r.n(c),d=r(219),h=r(490),f=r(479),v=r(559),m=r(648),k=r(477),_=r(577),w=r(560),x=r(574),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"400","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",{attrs:{color:"black"}},[r("v-container",[r("v-row",{attrs:{justify:"space-around"}},[r("v-col",{attrs:{cols:"12"}},[t._v("\n          ラベル名\n          "),r("v-text-field",{model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v("\n          背景色\n          "),r("v-color-picker",{staticClass:"ma-2",attrs:{swatches:t.swatches,"show-swatches":"","hide-canvas":""},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1)],1),t._v(" "),r("v-card-actions",[r("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.save}},[t._v("\n          登録\n        ")]),t._v(" "),r("v-btn",{staticClass:"mb-2",attrs:{color:"seconcary",dark:""},on:{click:function(e){return t.$emit("update:dialog",!1)}}},[t._v("\n          戻る\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VBtn:d.a,VCard:h.a,VCardActions:f.a,VCol:v.a,VColorPicker:m.a,VContainer:k.a,VDialog:_.a,VRow:w.a,VTextField:x.a})},512:function(t,e,r){var content=r(524);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("66eaabb5",content,!0,{sourceMap:!1})},523:function(t,e,r){"use strict";r(512)},524:function(t,e,r){var n=r(22)(!1);n.push([t.i,".image[data-v-e553bd0a]{width:100px;height:100px;-o-object-fit:cover;object-fit:cover}",""]),t.exports=n},530:function(t,e,r){"use strict";var n=r(2),o=(r(31),r(60),r(68),r(508),r(54)),c=r(39),l=r(40),d=r(67),h=r(138),f=r(14),v=r(1),m=r(13);e.a=Object(f.a)(o.a,c.a,d.a,Object(h.b)(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:function(t){return"string"==typeof t||!1===t}},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground:function(){return!this.text&&!this.outlined},isDark:function(){return this.hasBackground?!this.light:l.a.options.computed.isDark.call(this)},styles:function(){if(this.absolute||!this.app)return{};var t=this.$vuetify.application,e=t.bar,r=t.bottom,footer=t.footer,n=t.insetFooter,o=t.left,c=t.right,l=t.top;return{paddingBottom:Object(v.h)(r+footer+n),paddingLeft:Object(v.h)(o),paddingRight:Object(v.h)(c),paddingTop:Object(v.h)(e+l)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted:function(){this.isActive&&this.setTimeout()},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(m.e)("auto-height",this),0==this.timeout&&Object(m.d)('timeout="0"',"-1",this)},methods:{genActions:function(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(v.t)(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent:function(){return this.$createElement("div",{staticClass:"v-snack__content",class:Object(n.a)({},this.contentClass,!0),attrs:{role:"status","aria-live":"polite"}},[Object(v.t)(this)])},genWrapper:function(){var t=this,data=(this.hasBackground?this.setBackgroundColor:this.setTextColor)(this.color,{staticClass:"v-snack__wrapper",class:o.a.options.computed.classes.call(this),style:o.a.options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{pointerenter:function(){return window.clearTimeout(t.activeTimeout)},pointerleave:this.setTimeout}});return this.$createElement("div",data,[this.genContent(),this.genActions()])},genTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout:function(){var t=this;window.clearTimeout(this.activeTimeout);var e=Number(this.timeout);this.isActive&&![0,-1].includes(e)&&(this.activeTimeout=window.setTimeout((function(){t.isActive=!1}),e))}},render:function(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},531:function(t,e,r){"use strict";r.r(e);var n,o,c,l=r(2),d=r(5),h=(r(86),r(3),r(32),r(171),r(12),r(35),r(64),r(38),r(657)),f=r(510),v=r(486),m=r(491),k=r(481),_=r(507),w=r(36),x=(o={props:{heroId:{type:String,default:null}},data:function(){return{id:null,ownerid:null,heros:[],tiers:[],editTierDialog:!1,editHeroDialog:!1,editingTier:null,editingHero:null,name:"",valid:!0,nameRules:[function(t){return!!t||"Tier表名は必須です。"},function(t){return t&&t.length<=64||"アカウント名は64文字以内で設定してください。"}],message:"",show:!1,color:"success"}},computed:{},mounted:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.tiers=[t.createTier("S","#FF8A80"),t.createTier("A","#FFA726"),t.createTier("B","#FFD180"),t.createTier("C","#FFFF8D"),t.createTier("D","#CCFF90")],e.next=3,t.callBattlegroundCards();case 3:r=e.sent,t.heros=r;case 5:case"end":return e.stop()}}),e)})))()},watch:{heroId:(c=Object(d.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,this.getTier(e);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})}},Object(l.a)(o,"computed",{use4taku:function(){return this.id&&this.id===this.$store.state.account.account.tierTableId}}),Object(l.a)(o,"beforeDestroy",(function(){})),Object(l.a)(o,"methods",(n={deleteTier:function(t){this.$delete(this.tier,t)},addTier:function(t){this.$set(this.tier,tier,createTier(t))},createTier:function(t,e){return{id:null,name:t,heros:[],color:e}},findTier:function(t){return this.tiers.find((function(e){return e.name===t}))},editTier:function(t){this.editingTier=t,this.editTierDialog=!0},updateTier:function(t){this.editingTier.name=t.name,this.editingTier.color=t.color,this.editingTier=null}},Object(l.a)(n,"deleteTier",(function(t){var e=this,r=this.tiers.indexOf(t);r>-1&&this.tiers.splice(r,1).forEach((function(t){e.heros=e.heros.concat(t.heros)}))})),Object(l.a)(n,"addTier",(function(t){var e=this.tiers.indexOf(t);e>-1&&this.tiers.splice(e+1,0,this.createTier("New Tier...","grey"))})),Object(l.a)(n,"editHero",(function(t){this.editingHero=t,this.editHeroDialog=!0})),Object(l.a)(n,"updateHero",(function(t){this.editHeroDialog=!1,this.editingHero.ban=t.ban,this.editingHero.memo=t.memo,this.editingHero.heroMemoURL=t.heroMemoURL,this.editingHero=null})),Object(l.a)(n,"getTier",(function(t){var e=this;return Object(d.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(_.a)(e.$axios,t);case 2:n=r.sent,e.id=n.id,e.name=n.name,e.tiers=n.tiers,e.ownerid=n.ownerid,e.tiers.forEach(function(){var t=Object(d.a)(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.heros.forEach(function(){var t=Object(d.a)(regeneratorRuntime.mark((function t(r){var n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=e.heros.find((function(t){return t.id===r.id})))&&(o=e.heros.indexOf(n),e.heros.splice(o,1)),t.next=4,k.a.calcUnallocated(r.ban.required.concat(r.ban.desierd).concat(r.ban.needless));case 4:c=t.sent,r.ban.unallocated=c;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 8:case"end":return r.stop()}}),r)})))()})),Object(l.a)(n,"saveTierTable",(function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$refs.form.validate()){e.next=2;break}return e.abrupt("return");case 2:return r="".concat(w.a.getAPIServerURL(),"/tiertables"),n=t.tiers.map((function(e){var r={name:e.name,color:e.color,id:e.id,heros:[],tableOrder:t.tiers.indexOf(e)};return r.heros=e.heros.map((function(t){return{id:t.id,evaluationId:t.evaluationId,ban:{required:t.ban.required.map((function(t){return t.id})),desierd:t.ban.desierd.map((function(t){return t.id})),needless:t.ban.needless.map((function(t){return t.id}))},memo:t.memo,heroMemoURL:t.heroMemoURL,evaluationOrder:e.heros.indexOf(t)}})),r})),t.ownerid=t.$store.state.account.account.id,o={id:t.id,name:t.name,ownerid:t.ownerid,tiers:n},e.next=8,t.$axios({url:r,method:"POST",data:o});case 8:if(200===(c=e.sent).status){e.next=13;break}throw new Error("api error : ".concat(c.data));case 13:return l=c.data.id,t.id=l,t.showSnackBar("Tier表を登録しました。"),e.next=18,t.getTier(t.id);case 18:case"end":return e.stop()}}),e)})))()})),Object(l.a)(n,"deleteTierTable",(function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(w.a.getAPIServerURL(),"/tiertables/").concat(t.id),e.next=3,t.$axios({url:r,method:"DELETE"});case 3:if(200===(n=e.sent).status){e.next=6;break}throw new Error("api error : ".concat(n.data));case 6:t.showSnackBar("Tier表を削除しました。"),t.$router.push("/tiertable/list");case 8:case"end":return e.stop()}}),e)})))()})),Object(l.a)(n,"callBattlegroundCards",(function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var r,n,text,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(w.a.getAPIServerURL(),"/heros"),e.next=3,t.$axios({url:r,method:"GET",responseType:"blob"});case 3:if(200===(n=e.sent).status){e.next=6;break}throw new Error("api error : ".concat(n.data));case 6:return e.next=8,n.data.text();case 8:return text=e.sent,(o=JSON.parse(text)).map(function(){var e=Object(d.a)(regeneratorRuntime.mark((function e(object){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createBan();case 2:return object.ban=e.sent,object.memo="",e.abrupt("return",object);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))()})),Object(l.a)(n,"createBan",(function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object(h.a)(),e.t1=[],e.t2=[],e.t3=[],e.next=6,k.a.getMinionTypes(t.$axios);case 6:return e.t4=e.sent,e.abrupt("return",{id:e.t0,required:e.t1,desierd:e.t2,needless:e.t3,unallocated:e.t4});case 8:case"end":return e.stop()}}),e)})))()})),Object(l.a)(n,"update4taku",(function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var object;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.use4taku){e.next=7;break}return object={tierTableId:null,tierTableName:null},e.next=4,t.$store.dispatch("account/saveTiertable",object);case 4:t.showSnackBar("4択表示でこのTier表を使用しないように設定しました。"),e.next=11;break;case 7:return object={tierTableId:t.id,tierTableName:t.name},e.next=10,t.$store.dispatch("account/saveTiertable",object);case 10:t.showSnackBar("4択表示でこのTier表を使用するように設定しました。");case 11:case"end":return e.stop()}}),e)})))()})),Object(l.a)(n,"showSnackBar",(function(t,e){this.message=t,e&&(this.color=e),this.show=!0})),Object(l.a)(n,"isNew",(function(){return!this.id})),Object(l.a)(n,"isOwner",(function(){return this.id&&this.ownerid===this.$store.state.account.account.id})),n)),Object(l.a)(o,"components",{TierListEditDIalog:f.default,HeroEditDialog:v.default,SnackBar:m.default}),o),y=x,T=(r(523),r(96)),O=r(135),j=r.n(O),R=r(219),C=r(490),B=r(559),$=r(477),E=r(553),S=r(192),A=r(560),L=r(574),component=Object(T.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-card",{staticClass:"my-4"},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Tier表の名前",required:"",rules:t.nameRules},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),r("v-col",{attrs:{cols:"2"}},[r("v-btn",{attrs:{disabled:!this.id,color:this.use4taku?"primary":"accent"},on:{click:t.update4taku}},[t._v(t._s(t.use4taku?"4択で使用中":"4択で使用する"))])],1),t._v(" "),r("v-col",{attrs:{cols:"2"}},[r("v-btn",{attrs:{disabled:!this.isOwner()&&!this.isNew(),color:this.isOwner()||this.isNew()?"primary":"accent"},on:{click:function(e){return t.saveTierTable()}}},[t._v("保存")])],1),t._v(" "),r("v-col",{attrs:{cols:"2"}},[r("v-btn",{attrs:{disabled:!this.isOwner(),color:this.isOwner()?"primary":"accent"},on:{click:function(e){return t.deleteTierTable()}}},[t._v("削除")])],1)],1)],1)],1),t._v(" "),t._l(t.tiers,(function(e,i){return r("v-card",{key:i,staticClass:"pa-1"},[r("v-row"),t._v(" "),r("v-row",[r("v-col",{staticClass:"black--text pa-1",style:{backgroundColor:e.color},attrs:{cols:"1"}},[t._v("\n        "+t._s(e.name)+"\n      ")]),t._v(" "),r("draggable",{staticClass:"col col-10",staticStyle:{"background-color":"#424242"},attrs:{group:"heros",cols:"10"},model:{value:e.heros,callback:function(r){t.$set(e,"heros",r)},expression:"tier.heros"}},t._l(e.heros,(function(e){return r("img",{key:e.id,staticClass:"image",attrs:{src:e.imageURL},on:{dblclick:function(r){return t.editHero(e)}}})})),0),t._v(" "),r("v-col",{staticStyle:{"background-color":"#212121",height:"120px"},attrs:{cols:"1"}},[r("v-card",[r("v-btn",{attrs:{icon:""},on:{click:function(r){return t.editTier(e)}}},[r("v-icon",[t._v("fa-solid fa-gear")])],1),t._v(" "),r("v-btn",{attrs:{icon:""},on:{click:function(r){return t.deleteTier(e)}}},[r("v-icon",[t._v("fa-solid fa-trash-can")])],1),t._v(" "),r("v-btn",{attrs:{icon:""},on:{click:function(r){return t.addTier(e)}}},[r("v-icon",[t._v("fa-solid fa-plus")])],1)],1)],1)],1)],1)})),t._v(" "),r("v-card",[r("v-row",{staticClass:"grey lighten-3"},[r("v-col",{staticStyle:{"background-color":"#424242"},attrs:{cols:"12"}},[r("draggable",{attrs:{group:"heros"},model:{value:t.heros,callback:function(e){t.heros=e},expression:"heros"}},t._l(t.heros,(function(e){return r("img",{key:e.id,staticClass:"image",attrs:{src:e.imageURL},on:{dblclick:function(r){return t.editHero(e)}}})})),0)],1)],1)],1),t._v(" "),r("TierListEditDialog",{attrs:{dialog:t.editTierDialog,tier:t.editingTier},on:{"update:dialog":function(e){t.editTierDialog=e},updateTier:t.updateTier}}),t._v(" "),r("HeroEditDialog",{attrs:{dialog:t.editHeroDialog,hero:t.editingHero,editable:!0},on:{"update:dialog":function(e){t.editHeroDialog=e},updateHero:t.updateHero}}),t._v(" "),r("snack-bar",{attrs:{message:t.message,show:t.show,color:t.color},on:{"update:show":function(e){t.show=e}}})],2)}),[],!1,null,"e553bd0a",null);e.default=component.exports;j()(component,{TierListEditDialog:r(510).default,HeroEditDialog:r(486).default,SnackBar:r(491).default}),j()(component,{VBtn:R.a,VCard:C.a,VCol:B.a,VContainer:$.a,VForm:E.a,VIcon:S.a,VRow:A.a,VTextField:L.a})},553:function(t,e,r){"use strict";var n=r(2),o=(r(60),r(75),r(214),r(11),r(3),r(12),r(68),r(86),r(10),r(9),r(16),r(17),r(14)),c=r(98),l=r(136);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(o.a)(c.a,Object(l.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var t=this,e=function(input){return input.$watch("hasError",(function(e){t.$set(t.errorBag,input._uid,e)}),{immediate:!0})},r={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?r.shouldValidate=input.$watch("shouldValidate",(function(n){n&&(t.errorBag.hasOwnProperty(input._uid)||(r.valid=e(input)))})):r.valid=e(input),r},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var t=this.inputs.find((function(i){return i._uid===input._uid}));if(t){var e=this.watchers.find((function(i){return i._uid===t._uid}));e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==t._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:h({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},652:function(t,e,r){"use strict";r.r(e);var n={middleware:"authenticated",name:"create"},o=r(96),component=Object(o.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("TierTableEditTable")}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TierTableEditTable:r(531).default})}}]);